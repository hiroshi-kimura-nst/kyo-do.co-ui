<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">test/component/signupform.test.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="https://github.com/tetsuya-zama/kyo-do.co-ui" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">action</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeAccountInfo">changeAccountInfo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeAccountInfoField">changeAccountInfoField</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-closeccountInfoModal">closeccountInfoModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-openAccountInfoModal">openAccountInfoModal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateMemberStatus">updateMemberStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginFailure">loginFailure</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginRequested">loginRequested</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginSuccess">loginSuccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-logoutRequested">logoutRequested</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-myDestinationChange">myDestinationChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-myDestinationClear">myDestinationClear</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-signupFailure">signupFailure</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-signupRequired">signupRequired</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-signupSucceess">signupSucceess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-suggestionChange">suggestionChange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-suggestionClear">suggestionClear</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ACCOUNT_INFO_MODAL_CLOSE">ACCOUNT_INFO_MODAL_CLOSE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ACCOUNT_INFO_MODAL_OPEN">ACCOUNT_INFO_MODAL_OPEN</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CHANGE_ACCOUNT_INFO">CHANGE_ACCOUNT_INFO</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CHANGE_ACCOUNT_INFO_FIELD">CHANGE_ACCOUNT_INFO_FIELD</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-CLEAR_MY_DESTINATION">CLEAR_MY_DESTINATION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-UPDATE_MEMBER_STATUS">UPDATE_MEMBER_STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOGIN_FAILURE">LOGIN_FAILURE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOGIN_REQUESTED">LOGIN_REQUESTED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOGIN_SUCCESS">LOGIN_SUCCESS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOGOUT_REQUESTED">LOGOUT_REQUESTED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MY_DESTINATION_CHANGE">MY_DESTINATION_CHANGE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-MY_DESTINATION_CLEAR">MY_DESTINATION_CLEAR</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SIGNUP_FAILURE">SIGNUP_FAILURE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SIGNUP_REQUIRED">SIGNUP_REQUIRED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SIGNUP_SUCCESS">SIGNUP_SUCCESS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SUGGESTION_CHANGE">SUGGESTION_CHANGE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SUGGESTION_CLEAR">SUGGESTION_CLEAR</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">component</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/accountboard.js~AccountBoard.html">AccountBoard</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/board.js~Board.html">Board</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/header.js~Header.html">Header</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/loginform.js~LoginForm.html">LoginForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/mydestination.js~MyDestination.html">MyDestination</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/component/signupform.js~SignUpForm.html">SignUpForm</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">const</div><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LOGIN_STATUS">LOGIN_STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SIGNUP_FAILURE_REASONS">SIGNUP_FAILURE_REASONS</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">module</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-base64Decode">base64Decode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-base64Encode">base64Encode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getApiBaseURL">getApiBaseURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-existsKeyOnStorage">existsKeyOnStorage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getFromStorage">getFromStorage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-removeFromStorage">removeFromStorage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setToStorage">setToStorage</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">reducer</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-accountboard">accountboard</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-board">board</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-login">login</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mydestination">mydestination</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-signup">signup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-suggestion">suggestion</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">saga</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeAccountInfoSaga">changeAccountInfoSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadMemberStatusSaga">loadMemberStatusSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-watchMemberStatusSaga">watchMemberStatusSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-cleanRememberMeTask">cleanRememberMeTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginFailureSaga">loginFailureSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginFromRememberMeSaga">loginFromRememberMeSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginSaga">loginSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loginTask">loginTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-logoutSaga">logoutSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeDestinationSaga">changeDestinationSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadDestinationSaga">loadDestinationSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-rootSaga">rootSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-signupSaga">signupSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-signupTask">signupTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeSuggestionSaga">changeSuggestionSaga</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadSuggestionSaga">loadSuggestionSaga</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">store</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-configureStore">configureStore</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">test/component/signupform.test.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import assert from &apos;power-assert&apos;;
import SignUpForm from &apos;../../src/component/signupform&apos;;
import {signupFailure,signupRequired} from &apos;../../src/action/signup&apos;;
import {SIGNUP_FAILURE_REASONS} from &apos;../../src/const/signup&apos;;
import sinon from &apos;sinon&apos;;
import {shallow} from &apos;enzyme&apos;;
import React from &apos;react&apos;;
import ReactDOM from &apos;react-dom&apos;;
import {mountWithMUI} from &apos;./testutil&apos;;

const validationErrorMessages = [
  {reason : SIGNUP_FAILURE_REASONS.ID_DUPLICATED, msg : &quot;&#x3054;&#x6307;&#x5B9A;&#x306E;ID&#x306F;&#x3059;&#x3067;&#x306B;&#x4F7F;&#x308F;&#x308C;&#x3066;&#x3044;&#x307E;&#x3059;&quot;},
  {reason : SIGNUP_FAILURE_REASONS.SERVER_ERROR, msg:&quot;&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x30A8;&#x30E9;&#x30FC;&#x304C;&#x767A;&#x751F;&#x3057;&#x307E;&#x3057;&#x305F;&quot;},
  {reason : SIGNUP_FAILURE_REASONS.INVALID_CONFIRM, msg : &quot;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x3068;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#xFF08;&#x78BA;&#x8A8D;&#xFF09;&#x304C;&#x4E00;&#x81F4;&#x3057;&#x307E;&#x305B;&#x3093;&quot;},
  {reason : SIGNUP_FAILURE_REASONS.EMPTY_ID, msg : &quot;ID&#x3092;&#x5165;&#x529B;&#x3057;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&quot;},
  {reason : SIGNUP_FAILURE_REASONS.EMPTY_PASSWORD, msg : &quot;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x3092;&#x5165;&#x529B;&#x3057;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&quot;},
  {reason : SIGNUP_FAILURE_REASONS.EMPTY_NAME, msg : &quot;&#x540D;&#x524D;&#x3092;&#x5165;&#x529B;&#x3057;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&quot;},
  {reason : SIGNUP_FAILURE_REASONS.POLICY_PASSWORD, msg : &quot;&#x30D1;&#x30B9;&#x30EF;&#x30FC;&#x30C9;&#x30DD;&#x30EA;&#x30B7;&#x30FC;&#x306E;&#x8981;&#x4EF6;&#x3092;&#x6E80;&#x305F;&#x3057;&#x3066;&#x3044;&#x307E;&#x305B;&#x3093;(8&#x6587;&#x5B57;&#x4EE5;&#x4E0A;&#xFF0C;&#x534A;&#x89D2;&#x82F1;&#x6570;&#x5B57;&#x3092;1&#x6587;&#x5B57;&#x4EE5;&#x4E0A;&#x542B;&#x3080;)&quot;}
];

const validationConditions = [
  {
    expect: [SIGNUP_FAILURE_REASONS.INVALID_CONFIRM],
    form : {
      id:&quot;test_id&quot;,
      pass:&quot;1q2w3e4r&quot;,
      pass_confirm:&quot;1q2w3e4&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    }
  },
  {
    expect: [SIGNUP_FAILURE_REASONS.EMPTY_ID],
    form : {
      id:&quot;&quot;,
      pass:&quot;1q2w3e4r&quot;,
      pass_confirm:&quot;1q2w3e4r&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    }
  },
  {
    expect: [SIGNUP_FAILURE_REASONS.EMPTY_PASSWORD, SIGNUP_FAILURE_REASONS.POLICY_PASSWORD],
    form : {
      id:&quot;test_id&quot;,
      pass:&quot;&quot;,
      pass_confirm:&quot;&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    }
  },
  {
    expect: [SIGNUP_FAILURE_REASONS.EMPTY_NAME],
    form : {
      id:&quot;test_id&quot;,
      pass:&quot;1q2w3e4r&quot;,
      pass_confirm:&quot;1q2w3e4r&quot;,
      name:&quot;&quot;
    }
  },
  {
    expect: [SIGNUP_FAILURE_REASONS.POLICY_PASSWORD],
    form : {
      id:&quot;test_id&quot;,
      pass:&quot;1q2w3e4&quot;,
      pass_confirm:&quot;1q2w3e4&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    }
  },
  {
    expect: [SIGNUP_FAILURE_REASONS.POLICY_PASSWORD],
    form : {
      id:&quot;test_id&quot;,
      pass:&quot;aaaaaaaa&quot;,
      pass_confirm:&quot;aaaaaaaa&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    }
  },
  {
    expect: [SIGNUP_FAILURE_REASONS.POLICY_PASSWORD],
    form : {
      id:&quot;test_id&quot;,
      pass:&quot;11111111&quot;,
      pass_confirm:&quot;11111111&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    }
  },
];

/**@test {SignUpForm}*/
describe(&quot;&lt;SignUpForm /&gt;&quot;,()=&gt;{
  //id,pass,pass_confirm,name&#x3068;&#x3044;&#x3046;&#x30C6;&#x30AD;&#x30B9;&#x30C8;&#x30DC;&#x30C3;&#x30AF;&#x30B9;&#x3068;sign up&#x30DC;&#x30BF;&#x30F3;&#x3092;&#x63CF;&#x753B;&#x3059;&#x308B;
  it(&quot;renders id,pass,pass_confirm,name textboxes and sign up button&quot;,()=&gt;{
    const props = {
      dispatch:sinon.spy(),
      signup:{
        failure_reason:[]
      }
    };

    const wrapper = mountWithMUI(&lt;SignUpForm {...props} /&gt;);

    assert(wrapper.ref(&quot;id&quot;).find(&quot;input&quot;).length === 1);
    assert(wrapper.ref(&quot;pass&quot;).find(&quot;input&quot;).length === 1);
    assert(wrapper.ref(&quot;pass_confirm&quot;).find(&quot;input&quot;).length === 1);
    assert(wrapper.ref(&quot;name&quot;).find(&quot;input&quot;).length === 1);
    assert(wrapper.ref(&quot;signup&quot;).find(&quot;button&quot;).length === 1);
  });
  //failure_reason&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x30A8;&#x30E9;&#x30FC;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x4F55;&#x3082;&#x63CF;&#x753B;&#x3057;&#x306A;&#x3044;
  it(&quot;doesn&apos;t render any validation error messages if failure_reason is empty array.&quot;,()=&gt;{
    const props = {
      dispatch:sinon.spy(),
      signup:{
        failure_reason:[]
      }
    };

    const wrapper = shallow(&lt;SignUpForm {...props} /&gt;);

    validationErrorMessages.forEach(m =&gt; {
      assert(wrapper.text().indexOf(m.msg) &lt; 0);
    });
  });
  //failure_reason&#x306B;&#x5FDC;&#x3058;&#x305F;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x30A8;&#x30E9;&#x30FC;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x63CF;&#x753B;&#x3059;&#x308B;
  it(&quot;renders each validation error messages of failure_reason&quot;,()=&gt;{
    validationErrorMessages.forEach(m =&gt;{
      const props = {
        dispatch:sinon.spy(),
        signup:{
          failure_reason:[m.reason]
        }
      };

      const wrapper = shallow(&lt;SignUpForm {...props} /&gt;);

      assert(wrapper.text().indexOf(m.msg) &gt;= 0);
    });
  });
  //failure_reason&#x304C;&#x8907;&#x6570;&#x3042;&#x308C;&#x3070;&#x3001;&#x8907;&#x6570;&#x306E;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x30A8;&#x30E9;&#x30FC;&#x30E1;&#x30C3;&#x30BB;&#x30FC;&#x30B8;&#x3092;&#x63CF;&#x753B;&#x3059;&#x308B;
  it(&quot;renders multipul validation error messages if failure_reason has multipul reasons&quot;,()=&gt;{
    const messages = validationErrorMessages.filter(m =&gt; m.reason == (SIGNUP_FAILURE_REASONS.EMPTY_ID || SIGNUP_FAILURE_REASONS.EMPTY_PASSWORD));
    const props = {
      dispatch:sinon.spy(),
      signup:{
        failure_reason:messages.map(m=&gt;m.reason)
      }
    };

    const wrapper = shallow(&lt;SignUpForm {...props} /&gt;);

    messages.forEach(m =&gt; {
      assert(wrapper.text().indexOf(m.msg) &gt;= 0);
    });
  });
  //&#x3059;&#x3079;&#x3066;&#x306E;&#x753B;&#x9762;&#x30B5;&#x30A4;&#x30C9;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x901A;&#x3063;&#x305F;&#x5834;&#x5408;&#x3001;SIGNUP_REQUIRED&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;dispatch&#x3059;&#x308B;
  it(&quot;dispatches SIGNUP_REQUIRED action if all display side validations are passed&quot;,()=&gt;{
    const formInput = {
      id:&quot;test_id&quot;,
      pass:&quot;1q2w3e4r&quot;,
      pass_confirm:&quot;1q2w3e4r&quot;,
      name:&quot;&#x5358;&#x4F53;&#x30C6;&#x30B9;&#x30C8;&quot;
    };

    const props = {
      dispatch:sinon.spy(),
      signup:{
        failure_reason:[]
      }
    };

    const wrapper = mountWithMUI(&lt;SignUpForm {...props} /&gt;);

    Object.keys(formInput).forEach(k =&gt;{
      wrapper.ref(k).find(&quot;input&quot;).simulate(&quot;change&quot;,{target:{value:formInput[k]}});
    });

    wrapper.ref(&quot;signup&quot;).find(&quot;button&quot;).simulate(&quot;click&quot;);

    assert(props.dispatch.called);
    assert.deepEqual(props.dispatch.getCall(0).args[0],signupRequired({id:formInput.id,password:formInput.pass,name:formInput.name}));
  });

  //&#x753B;&#x9762;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#xFF11;&#x3064;&#x3067;&#x3082;&#x901A;&#x3089;&#x306A;&#x3044;&#x5834;&#x5408;&#x306F;SIGNUP_FAILURE&#x30A2;&#x30AF;&#x30B7;&#x30E7;&#x30F3;&#x3092;dispatch&#x3059;&#x308B;
  it(&quot;dispatches SIGNUP_FAILURE action if some display validations is not passed&quot;,()=&gt;{
    const formInput = {
      id:&quot;test_id&quot;,
      pass:&quot;1q2w3e4r&quot;,
      pass_confirm:&quot;1q2w3e4r&quot;,
      name:&quot;&quot;
    };

    const props = {
      dispatch:sinon.spy(),
      signup:{
        failure_reason:[]
      }
    };

    const wrapper = mountWithMUI(&lt;SignUpForm {...props} /&gt;);

    Object.keys(formInput).forEach(k =&gt;{
      wrapper.ref(k).find(&quot;input&quot;).simulate(&quot;change&quot;,{target:{value:formInput[k]}});
    });

    wrapper.ref(&quot;signup&quot;).find(&quot;button&quot;).simulate(&quot;click&quot;);

    assert(props.dispatch.called);
    assert.deepEqual(props.dispatch.getCall(0).args[0],signupFailure([SIGNUP_FAILURE_REASONS.EMPTY_NAME]));
  });

  //&#x753B;&#x9762;&#x30B5;&#x30A4;&#x30C9;&#x30D0;&#x30EA;&#x30C7;&#x30FC;&#x30B7;&#x30E7;&#x30F3;&#x304C;&#x5931;&#x6557;&#x3057;&#x305F;&#x7406;&#x7531;&#x306B;&#x5FDC;&#x3058;&#x3066;SIGNUP_FAILURE&#x306E;&#x5F15;&#x6570;&#x306B;&#x6E21;&#x3059;SIGNUP_FAILURE_REASONS&#x3092;&#x6C7A;&#x3081;&#x308B;
  it(&quot;dispatches SIGNUP_FAILURE action with each SIGNUP_FAILURE_REASONS of reasons why display side validation is not passed&quot;,()=&gt;{
    validationConditions.forEach(cond =&gt;{
      const props = {
        dispatch:sinon.spy(),
        signup:{
          failure_reason:[]
        }
      };

      const wrapper = mountWithMUI(&lt;SignUpForm {...props} /&gt;);

      Object.keys(cond.form).forEach(k =&gt;{
        wrapper.ref(k).find(&quot;input&quot;).simulate(&quot;change&quot;,{target:{value:cond.form[k]}});
      });

      wrapper.ref(&quot;signup&quot;).find(&quot;button&quot;).simulate(&quot;click&quot;);

      assert(props.dispatch.called);
      assert.deepEqual(props.dispatch.getCall(0).args[0],signupFailure(cond.expect));
    });
  });
});
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
